---
layout: post 
title: Video Mixer
category: portfolio
img: https://s3.amazonaws.com/kleebtronics-media/img/thumbs/ProjBox2.jpg
img-hover: https://s3.amazonaws.com/kleebtronics-media/img/thumbs/mixer-hover.jpg

---

<h2>Video Mixer</h2>
<p>
<img src="https://s3.amazonaws.com/kleebtronics-media/img/projbox.jpeg" width="600" />
</p>
<p>
created by: <a href="http://www.kleebtronics.com">Mark Kleback</a>
</p>
<p>
This video control box is my primary instrument for controlling projections and lighting during performances. It consists of an <a href="http://www.arduino.cc" target="_blank">Arduino</a> microcontroller, four analog potentiometers, four toggle switches, four LEDs, and an output for a DMX lighting controller. The Arduino communicates with software such as <a href="http://www.cycling74.com" target="_blank">Max/MSP</a>, <a href="http://www.processing.org" target="_blank">Processing</a>, or <a href="http://www.openframeworks.cc" target="_blank">OpenFrameWorks</a> during musical performances to dynamically change the video and lighting effects.
</p>
<h3>Conception</h3>
<p>
The design for this mixer was used in the <a href="http://training.oreilly.com/arduino/" target="_blank">Arduino and Processing in Tandem</a> class taught by Joseph Gray in February 2011. His design is called the <a href="http://projbox.org/" target="_blank">ProjBox</a>. He calls it "a generic project box for the Arduino platform." 
</p>
<p>
<img src = "https://s3.amazonaws.com/kleebtronics-media/img/projBoxClosedAngle.png" width="600" />
</p>
<p>
The initial program was created using <a href="http://processing.org/" target="_blank">Processing</a> and a simple iSight webcam. The program taught by Gray was able to record live video, add it to a bank of videos, and mix the live stream with the pre-recorded bank at different speeds. I used this program while on tour with FuckTon in 2011.
</p>
<h3>Evolution</h3>
<p>
During my <a href="http://itp.nyu.edu/varwiki/Syllabus/ICM-All-F11/" target="_blank">Intro to Computational Media</a> class in my first semester at ITP, my video mixer was revamped to replicate analog video effects.
</p>
<p>
<iframe src="http://player.vimeo.com/video/30886022?byline=0&amp;portrait=0&amp;color=ffffff" width="600" height="338" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
</p>
<p>
The source code for this project is posted on <a href="https://github.com/markkleeb/VideoMixer" target="_blank">GitHub</a> and uses Joseph Gray's ProjBox class.
</p>
<h3>Interfacing with Max/MSP</h3>
<p>
The mixer was again used at the <a href="http://itp.nyu.edu/shows/winter2011/" target="_blank">2011 ITP Winter Show</a> along with the <a href="http://www.kleebtronics.com/zorb">zOrb</a> to create a multimedia performance. The zOrb controlled audio effects while the mixer controlled the video. 
</p>
<p>
<img src = "https://s3.amazonaws.com/kleebtronics-media/img/winter-show-patch.png" width="800" />
</p>
<p>
<a href="https://s3.amazonaws.com/kleebtronics-media/sketches/Max/WinterShow2011.maxpat">Download this patch</a>
</p>
<h3>PureData and South By Southwest</h3>
<p>
In the <a href="http://itp.nyu.edu/dataflow/" target="_blank">Intro to Dataflow Programming</a> class at ITP, we interfaced the zOrb and the mixer with PureData, the open source version of Max/MSP. The final project was a sequencer where the steps were controlled by the toggle switches.
</p>
<p>
<img src = "https://s3.amazonaws.com/kleebtronics-media/img/sequencer.png" width="800" />
</p>
<p>
We demonstrated this sequencer as part of the <a href="http://dorkbot.org/dorkbotaustin/2012/03/dorkbot34-dorkbot-atx-hackerspace-at-sxsw-create/" target="_blank">CreateATX</a> event at South By Southwest in 2012.
</p>
<p>
<a href="https://s3.amazonaws.com/kleebtronics-media/sketches/Max/Sequencer.zip">Download this patch</a>
</p>
<h3>Interfacing with the XBox Kinect</h3>
<p>
In the summer of 2012, I switched from a standard webcam to the XBox Kinect. With two banks of pre-recorded videos, I can crossfade between two videos using the depth data from the Kinect. The video banks are mapped to two knobs on the mixer.
</p>
<p>
<iframe src="http://player.vimeo.com/video/44414597?byline=0&amp;portrait=0&amp;color=ffffff" width="600" height="375" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
</p>
<p>
<a href="https://s3.amazonaws.com/kleebtronics-media/sketches/Max/FuckTonKinect.maxpat">Download this patch</a>
</p>
<h3>Adding DMX Light Control</h3>
<p>
In July 2012, I added a DMX output to the box. I uploaded the <a href="http://code.google.com/p/tinkerit/wiki/DmxSimple" target="_blank">DMXSimple</a> library to the Arduino, and mapped the first four DMX channels to the four toggle switches. The last knob is used to control brightness levels.
</p>
<p>
<iframe width="560" height="315" src="http://www.youtube.com/embed/WBsAIHHFcNU" frameborder="0" allowfullscreen></iframe>
</p>

<div class="row">
<div class="span2 offset2">
<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://kleebtronics.com/videomixer" data-via="kleeb930">Tweet</a>
</div>
<div class="span2">
<div class="fb-like" data-href="http://kleebtronics.com/videomixer" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false">
</div>
</div>
</div>